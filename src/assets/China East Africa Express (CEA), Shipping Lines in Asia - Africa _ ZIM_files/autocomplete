function setDefaultCountry(n,t,i,r){var f,u;f=$(n).find("input:last").val()!==undefined&&$(n).find("input:last").val()!==""?$(n).find("input:last").val():$.cookie("country");u=$(n).find("input:first").data("url");u===undefined||u===null||u===""?(u="/umbraco/api/Countries/GetCountryAutocomplete?countryCode="+f,t&&(u=u+"&formId="+t),i&&(u=u+"&pageId="+i),$.get(u,function(t){t!==null&&($(n).find("input:first").val(t),$(n).find("input:last").val(f));r()})):(u+="?query=&countryCode="+f,t&&(u=u+"&formId="+t),i&&(u=u+"&pageId="+i),$.get(u,function(t){t!==undefined&&t!==null&&t.suggestions.length>0&&($(n).find("input:first").val(t.suggestions[0].value),$(n).find("input:last").val(t.suggestions[0].data));r()}))}function setPhoneCodeSolar(n){var t=$(n).closest(".country").find("input:last").val();t!==""?$.get("/umbraco/surface/form/GetPhonePrefixByCountry?country="+t,function(t){t&&$(n).closest(".copy-certifier").find(".phone .phone-prefix").val(t.PhonePrefix).prop("readonly",!0)}):$(".phone .phone-prefix").val("").prop("readonly",!1)}function setPhoneCodeV2(){var t=$(".phone-number-v2").data("trigger"),i=$(".phone-number-v2").data("url"),n;t!=null&&i!=null&&(n=$("#"+t).closest("div").find("input:last").val(),n!==""?$.get(i+"?country="+n,function(n){$(".phone-number-v2 .prefix-campaign input").val(n.PhonePrefix).prop("readonly",!0)}):$(".phone-number-v2 .prefix-campaign input").val("").prop("readonly",!1))}function getAjaxDropDownListValue(n){if($(".autocomplete").length){var t=$(".ajaxdropdownlist select");$(t).each(function(){var i=$(this).data("url"),r=$(this).data("module"),u=$("#"+$(this).data("trigger")).parent().find("input:last").val(),f=r!==""?i+"?country="+u+"&module="+r:i+"?country="+u,t=$(this);$.get(f,function(i){if(i.length>0){$(t).find("option").remove();$(t).append($("<option><\/option>").attr("value","").html($(t).data("selectText")));$.each(i,function(n,i){$(t).append($("<option><\/option>").attr("value",i.Value).html(i.Text))});localStorage.getItem("complete_later_state")&&($(t).val(localStorage.getItem("complete_later_state")),localStorage.removeItem("complete_later_state"));$(t).closest(".ajaxdropdownlist").show();n!==undefined&&n();var r=localStorage.getItem("branch ajaxdropdownlist");r!==undefined&&r!==null&&r!==""&&($(".umbraco-forms-field.branch select").val(r),localStorage.removeItem("branch ajaxdropdownlist"))}else $(t).parent().find("option").remove().end().append($("<option><\/option>").attr("value","")),$(t).closest(".ajaxdropdownlist").hide()})})}}function getSolasState(n,t){var i=$(n).closest(".copy-certifier").find(".solarstate select"),r=$(n).find("input:last").val();$.get("/umbraco/surface/VGM/getStates?countryCode="+r,function(n){n.length>0?($(i).find("option").remove(),$.each(n,function(n,t){$(i).append($("<option><\/option>").attr("value",t.StateCode).html(t.StateName))}),$(i).closest(".solarstate").show(),$(i).data("stateValue")!==undefined&&$(i).data("stateValue")!==""&&$(i).val($(i).data("stateValue"))):($(i).find("option").remove().end().append($("<option><\/option>").attr("value","")),$(i).closest(".solarstate").hide());t()})}function setHiddenValues(){var t=$(".umbraco-forms-field.ajaxdropdownlist").closest(".umbraco-forms-container").find(".umbraco-forms-field.autocomplete input:last"),n;$(t).val()!==undefined&&$(t).val()!==""&&getAjaxDropDownListValue(function(){$(".bookingcountryoffices select").length&&$(".bookingcountryoffices select").data("countryValue")!==""&&$(".bookingcountryoffices select").val($(".bookingcountryoffices select").data("countryValue"));$(".bookingoffices select").length&&$(".bookingoffices select").data("countryValue")!==""&&$(".bookingoffices select").val($(".bookingoffices select").data("countryValue"));$(".state select").length&&$(".state select").data("countryValue")!==""&&$(".state select").val($(".state select").data("countryValue"))});n=$(".umbraco-forms-field.phonev2").closest(".umbraco-forms-container").find(".umbraco-forms-field.autocomplete input:last");$(n).val()!==undefined&&$(n).val()!==""||$(".additional-send-grid-fields").find(".phone-number-v2").length?setPhoneCodeV2():$(".solasvgm .phone").length&&($.cookie("user_SOLASVGM")!==undefined&&$.cookie("user_SOLASVGM").length||(setPhoneCodeSolar($(".solasvgm .country input:first")),getSolasState($(".solasvgm .country:first"),function(){})));$(".fake-complete-later").length&&($(".fullname input").val()&&$(".email input").val()&&$(".company input").val()&&$(".umbraco-forms-zimWithStepsLanding .country input:first").val()&&$(".phone-campaign input").val()?$(".fake-complete-later").prop("disabled",!1):$(".fake-complete-later").prop("disabled",!0))}function createTemplateWithAnchor(n,t){t.length>0&&t[0].portType&&$(n).children().each(function(n){t[n]&&t[n].portType&&($(this).addClass("anchor-padding"),t[n].portType.indexOf("MARINE")>=0&&$(this).addClass("anchor-icon"))})}function checkSameFromAndToPort(n,t,i,r,u,f){var s=document.getElementById(t).value.trim(),c=document.getElementById(i).value.trim(),h=document.querySelector(r),e=document.querySelector(u),o=document.querySelector(f);s&&s===c?(h.disabled=!0,n.trim()=="#"+t?(e.style.display="block",o.style.display="none"):n.trim()=="#"+i&&(o.style.display="block",e.style.display="none")):(h.disabled=!1,o.style.display="none",e.style.display="none")}var noResultMessage=$("body").data("noResultAutocomplete");$(document).ready(function(){function n(){}var t,i,u;if($("body[data-page-id]").length>0&&(t=$("body[data-page-id]").attr("data-page-id")),$("#searchPortCountry").length>0&&$("#searchPortCountry").val()!==""&&$("#searchPortCountryMain").val()!==""&&$("#portSelect").val()===""&&$.fn.setPorts("#searchPortCountry"),$("#demurageCountry").length>0&&$("#demurageCountry").val()!==""&&$("#demurageCountryMain").val()!==""&&$("#portSelect").val()===""&&$.fn.setPorts("#demurageCountry","/umbraco/surface/demurrageDetentionTariff/GetDemuragePorts"),$("#demurage-calculator-country").length>0&&$("#demurage-calculator-country").val()!==""&&$("#demurageCalculatorCountryMain").val()!==""&&$("#portSelectCalculatorOsb").val()===""&&$.fn.setPorts("#demurage-calculator-country","/umbraco/surface/demurrageDetentionTariff/GetDemuragePorts"),$("#localCountry").length>0&&$("#localCountry").val()!==""&&$("#localCountryMain").val()!==""&&$("#portSelect").val()===""&&$.fn.setPorts("#localCountry","/umbraco/surface/localCharges/GetLocalPorts"),$.fn.SetPortsForCountryByClick=function(){$(".bottom-panel button#tab-4, .bottom-panel button#mobile-tab-4").click(function(){$("#quickSearchPortCountry").length>0&&$("#quickSearchPortCountry").val()!==""&&$("#quickSearchPortCountryMain").val()!==""&&$("#portSelect2").val()===""&&$.fn.setPorts("#quickSearchPortCountry")})},$("#shortQuickSearchPortCountry").length>0&&$("#shortQuickSearchPortCountry").val()!==""&&$("#shortQuickSearchPortCountryMain").val()!==""&&$("#portSelect3").val()===""&&$.fn.setPorts("#shortQuickSearchPortCountry"),$(".umbraco-forms-container .autocomplete").length&&($("div[data-form-id]").length>0&&(i=$("div[data-form-id]").attr("data-form-id")),$(".umbraco-forms-container .autocomplete").each(function(){if($.fn.getDataAutocomplete("#"+$(this).find("input:first").attr("id"),$(this).find("input:first").data("url"),"#"+$(this).find("input:last").attr("id"),"","","auto",!1,i,t),$(this).find("input:last").val()==="")if($(".contactform").length){var n=localStorage.getItem("country autocomplete");localStorage.getItem("country autocomplete")!==null?($(this).find("input:first").val(localStorage.getItem("country autocomplete_main")),$(this).find("input:last").val(n),setHiddenValues()):setDefaultCountry($(this),i,t,function(){setHiddenValues()})}else($(this).hasClass("country")||$(this).hasClass("bookingofficecountry"))&&setDefaultCountry($(this),i,t,function(){setHiddenValues()});else $(this).closest(".copy-certifier").length&&getSolasState($(this).closest(".country"),function(){}),setHiddenValues()})),$.fn.getDataAutocomplete("#autocomplete-country","/umbraco/api/Countries/GetCountries","#iso-country","","","auto",!1,null,t),$.fn.getDataAutocomplete("#demurageCountry","/umbraco/surface/Form/GetCountry","#demurageCountryMain","","","auto",!0,null,t),$.fn.getDataAutocomplete("#demurage-calculator-country","/umbraco/surface/Form/GetCountry","#demurageCalculatorCountryMain","","","auto",!0,null,t),$.fn.getDataAutocomplete("#localCountry","/umbraco/surface/Form/GetCountry","#localCountryMain","","","auto",!0,null,t),$.fn.getDataAutocomplete("#searchPortCountry","/umbraco/surface/Form/GetCountry","#searchPortCountryMain","","","auto",!0,null,t),$.fn.getDataAutocomplete("#quickSearchPortCountry","/umbraco/surface/Form/GetCountry","#quickSearchPortCountryMain","#scheduleByPortQuickSearchForm","","auto",!0,null,t),$.fn.getDataAutocomplete("#shortQuickSearchPortCountry","/umbraco/surface/Form/GetCountry","#shortQuickSearchPortCountryMain","","","auto",!0,null,t),$.fn.getDataAutocomplete(".additional-send-grid-fields #country","/umbraco/surface/Form/GetCountry",".additional-send-grid-fields #country_hidden","","","auto",!0,null,t),$.fn.getDataAutocomplete("#contact-autocomplete","/umbraco/surface/ContactUs/GetCustomers","#searchCode",".contact-form","","auto",!1),$.fn.getDataAutocomplete("#contact-autocomplete-mobile","/umbraco/surface/ContactUs/GetCustomers","#searchCodeMobile",".mobile-search.contact-search","","auto",!1),$.fn.getDataAutocomplete("#autocompleteVessel","/umbraco/surface/ScheduleByVessel/GetVessels","#vesselCode","#vesselContainer","","top",!1),$.fn.getDataAutocomplete("#autocompleteVesselMain","/umbraco/surface/ScheduleByVessel/GetVessels","#vesselCodeMain","","#autocompleteVesselMain","auto",!1),$("#autocompleteVesselMain").bind("keyup",{id:"vesselCodeMain"},n),$.fn.getDataAutocomplete("#autocompleteInlandMain","/umbraco/surface/USLandTransportation/GetInlandUS","#inlandCodeMain","","#autocompleteInlandMain","auto",!1),$("#autocompleteInlandMain").bind("keyup",{id:"inlandCodeMain"},n),$.fn.getDataAutocomplete("#autocompletePortMain","/umbraco/surface/USLandTransportation/GetPortUS","#portCodeMain","","#autocompletePortMain","auto",!1),$("#autocompletePortMain").bind("keyup",{id:"portCodeMain"},n),$.fn.getDataAutocomplete("#autocompleteRoutePort","/umbraco/surface/ScheduleByRoute/GetPortsInLands","#portCode","#routePortContainer","","top",!1),$.fn.getDataAutocomplete("#campaigneRoutePortContainerFrom input[type='text']","/umbraco/surface/ScheduleByRoute/GetMarinePorts","#campaigneRoutePortContainerFrom input[type='hidden']","#campaigneRoutePortContainerFrom","","auto",!1),$.fn.getDataAutocomplete("#campaigneRoutePortContainerTo input[type='text']","/umbraco/surface/ScheduleByRoute/GetMarinePorts","#campaigneRoutePortContainerTo input[type='hidden']","#campaigneRoutePortContainerTo","","auto",!1),$("#shipWithCountryFilter").length){var f=$("#shipWithCountryFilter").data("url"),e=$("#shipWithCountryFilter").data("trigger"),r="";r=e?localStorage.getItem("form_country"):"IN";u=f+"?countryCode="+r;$.fn.getDataAutocomplete("#shipWithCountryFilter input[type='text']",u,"#shipWithCountryFilter input[type='hidden']","#shipWithCountryFilter","","auto",!1)}$.fn.getDataAutocomplete("#autocompleteRoutePortMain","/umbraco/surface/ScheduleByRoute/GetPortsInLands","#portCodeMain","","#autocompleteRoutePortMain","auto",!1);$("#autocompleteRoutePortMain").bind("keyup",{id:"portCodeMain"},n);$.fn.getDataAutocomplete("#autocompleteRoutePortDestination","/umbraco/surface/ScheduleByRoute/GetPortsInLands","#portDestinationCode","#routePortDestinationContainer","","top",!1);$.fn.getDataAutocomplete("#autocompleteRoutePortDestinationMain","/umbraco/surface/ScheduleByRoute/GetPortsInLands","#portDestinationCodeMain","","#autocompleteRoutePortDestinationMain","auto",!1);$("#autocompleteRoutePortDestinationMain").bind("keyup",{id:"portDestinationCodeMain"},n);$.fn.getDataAutocomplete("#autocompleteShortRoutePort","/umbraco/surface/ScheduleByRoute/GetPortsInLands","#portCodeShort","","#autocompleteShortRoutePort","auto",!1);$("#autocompleteShortRoutePort").bind("keyup",{id:"portCodeShort"},n);$.fn.getDataAutocomplete("#autocompleteShortRoutePortDestination","/umbraco/surface/ScheduleByRoute/GetPortsInLands","#portDestinationCodeShort","","#autocompleteShortRoutePortDestination","auto",!1);$("#autocompleteShortRoutePortDestination").bind("keyup",{id:"portDestinationCodeShort"},n);$.fn.getDataAutocomplete("#ecoOriginName","/umbraco/surface/ScheduleByRoute/GetPortsInLands","#ecoOriginCode","","#ecoOriginName","auto",!1);$("#ecoOriginName").bind("keyup",{id:"ecoOriginCode"},n);$.fn.getDataAutocomplete("#ecoDestinationName","/umbraco/surface/ScheduleByRoute/GetPortsInLands","#ecoDestinationCode","","#ecoDestinationName","auto",!1);$("#ecoDestinationName").bind("keyup",{id:"ecoDestinationCode"},n);$.fn.getDataAutocomplete("#autocompleteInlandNonUs","/umbraco/surface/LandTransportation/GetInland","#inlandCodeMain","","#autocompleteInlandNonUs","auto",!1);$("#autocompleteInlandNonUs").bind("keyup",{id:"inlandCodeMain"},n);$.fn.getDataAutocomplete("#autocompletePortNonUs","/umbraco/surface/LandTransportation/GetPort","#portCodeMain","","#autocompletePortNonUs","auto",!1);$("#autocompletePortNonUs").bind("keyup",{id:"portCodeMain"},n);$("#tariffOriginName").autocomplete({minLength:0,dataType:"json",orientation:"auto",serviceUrl:"/umbraco/surface/ScheduleByRoute/GetMarinePorts",autoSelectFirst:!0,beforeRender:createTemplateWithAnchor,onSearchComplete:function(n,t){t.length>0?$("#tariffOriginName").closest("div").find("span.helper-hidden-accessible").text(t.length+" "+$("#tariffOriginName").data("availableItems")):$("#tariffOriginName").closest("div").find("span.helper-hidden-accessible").text(noResultMessage)},onInvalidateSelection:function(){$("#tariffOriginCode").attr("value","")},onSelect:function(t){$("#tariffOriginName").unbind("keyup",n);$("#tariffOriginCode").attr("value",t.data);$("#tariffPort").val(t.value)},onHide:function(){$(this).val("");$("#tariffOriginName").closest("div").find("span.helper-hidden-accessible").text("")},showNoSuggestionNotice:!0,noSuggestionNotice:noResultMessage});$("#tariffDestinationName").autocomplete({minLength:0,dataType:"json",orientation:"auto",serviceUrl:"/umbraco/surface/ScheduleByRoute/GetMarinePorts",autoSelectFirst:!0,beforeRender:createTemplateWithAnchor,onSearchComplete:function(n,t){t.length>0?$("#tariffDestinationName").closest("div").find("span.helper-hidden-accessible").text(t.length+" "+$("#tariffOriginName").data("availableItems")):$("#tariffDestinationName").closest("div").find("span.helper-hidden-accessible").text(noResultMessage)},onInvalidateSelection:function(){$("#tariffDestinationCode").attr("value","")},onSelect:function(t){$("#tariffDestinationName").unbind("keyup",n);$("#tariffDestinationCode").attr("value",t.data);$("#tariffDestinationPort").val(t.value)},onHide:function(){$(this).val("");$("#tariffDestinationName").closest("div").find("span.helper-hidden-accessible").text("")},showNoSuggestionNotice:!0,noSuggestionNotice:noResultMessage});$("#tariffDestinationName").bind("keyup",{id:"ecoDestinationCode"},n);$(".autocomplete-suggestions").attr("unselectable","on")});$.fn.setPorts=function(n,t){var i=$(n),f=$(i).val(),u=$(i).closest("div").find('input[type="hidden"]').val(),r;t!==""&&t!==undefined&&t!==null?$("#demurrageDetentionTariff").length?(r=$("#demurrageDetentionTariff").data("pageId"),t+="?countryCode="+u+"&pageId="+r):$("#demurrageDetentionCalculatorOSB").length?(r=$("#demurrageDetentionCalculatorOSB").data("pageId"),t+="?countryCode="+u+"&pageId="+r):t+="?countryCode="+u:t="/umbraco/surface/ScheduleByPort/GetPortsByCode?countryCode="+u+"&countryName="+f;$.get(t,function(n){var t=$(i).attr("id")==="searchPortCountry"?"#portSelect":$(i).attr("id")==="demurageCountry"?"#portSelect":$(i).attr("id")==="demurage-calculator-country"?"#portSelectCalculatorOsb":$(i).attr("id")==="localCountry"?"#portSelect":$(i).attr("id")==="quickSearchPortCountry"?"#portSelect2":"#portSelect3",r=$(t).children().first().clone();$(t).html("");$(t).append(r[0]);n?($.each(n,function(n,i){if(i.PortType){var r=$("<option><\/option>").attr("value",i.Value).append($("<div><\/div>").addClass("suggestion-text").html(i.Text));i.PortType.indexOf("MARINE")>=0&&r.addClass("anchor-icon");$(t).append(r)}}),$(t).removeAttr("disabled"),n.length===1&&($(t).val(n[0].Value),$(".demurrage-calculator").length?($(".port-demurrage-data").remove(),$.fn.SetContainerTypes()):$(".demurrage-calculator-osb").length&&($(".port-demurrage-data-osb").remove(),$.fn.SetDemurrageCalculatorContainerTypesOSB()))):$(t).attr("disabled","disabled");$(t).selectpicker("refresh");$(t).removeAttr("tabindex")})};$.fn.getDataAutocomplete=function(n,t,i,r,u,f,e,o,s){var h={minLength:0,serviceUrl:t,autoSelectFirst:!0,orientation:f,appendTo:r===""?document.body:r,beforeRender:createTemplateWithAnchor,onSearchComplete:function(t,i){i.length>0?($(n).closest("div").find("span.helper-hidden-accessible").text(i.length+" "+$(n).data("availableItems")),$(n).attr("data-value","1")):($(n).closest("div").find("span.helper-hidden-accessible").text(noResultMessage),$(n).attr("data-value","0"))},onInvalidateSelection:function(){$(i).attr("value","")},onSelect:function(t){$(i).val()!==t.data&&($(i).attr("value",t.data),e&&(n.indexOf("localCountry")>0?$.fn.setPorts(n,"/umbraco/surface/localCharges/GetLocalPorts"):n.indexOf("demurageCountry")>0||n.indexOf("demurage-calculator-country")>0?$.fn.setPorts(n,"/umbraco/surface/demurrageDetentionTariff/GetDemuragePorts"):$.fn.setPorts(n)),$(n).closest(".umbraco-forms-container").find(".umbraco-forms-field.ajaxdropdownlist").length&&getAjaxDropDownListValue(),$(n).closest(".copy-certifier").find(".solarstate").length&&getSolasState($(n).closest(".country"),function(){}),$(n).closest(".umbraco-forms-container").find(".umbraco-forms-field.phonev2").length&&setPhoneCodeV2(),$(n).closest(".additional-send-grid-fields").find(".phone-number-v2").length&&setPhoneCodeV2(),$(n).closest(".copy-certifier").find(".umbraco-forms-field.phone").length&&setPhoneCodeSolar($(n)));$(".steps-headline").length&&$(".steps-headline").data("formStep")!==0||$(".umbraco-forms-field.country.autocomplete").length&&localStorage.setItem("form_country",t.data);(n==="#autocompleteRoutePortMain"||n==="#autocompleteRoutePortDestinationMain")&&checkSameFromAndToPort(n,"autocompleteRoutePortMain","autocompleteRoutePortDestinationMain",'.p2p-search-panel [type="submit"]','[data-valmsg-for="PortMainSameInput"]','[data-valmsg-for="PortDestinationSameInput"]');(n==="#autocompleteRoutePort"||n==="#autocompleteRoutePortDestination")&&checkSameFromAndToPort(n,"autocompleteRoutePort","autocompleteRoutePortDestination",'#scheduleByRouteQuickSearchForm [type="submit"]','[data-valmsg-for="PortMainSameInputQuick"]','[data-valmsg-for="PortDestinationSameInputQuick"]')},onHide:function(){$("#campaigneRoutePortContainerTo").length&&$("#campaigneRoutePortContainerTo input:first").val()!==""&&$("#campaigneRoutePortContainerTo input:last")!==""&&$(n).attr("data-value")==="1"||($(this).val(""),$(n).closest("div").find("span.helper-hidden-accessible").text(""))},showNoSuggestionNotice:!0,noSuggestionNotice:noResultMessage,forceFixPosition:r!==""};o&&(h.params={formId:o});s&&(h.params?h.params.pageId=s:h.params={pageId:s});$(n).autocomplete(h);$(n).attr("data-print","1")}